유저플로우 1: 문제 등록 과정 중단
입력 (Input)

사용자가 RegisterProblemModal 컴포넌트의 닫기 버튼('X')을 클릭합니다.

또는, 사용자가 키보드의 'Escape' 키를 누릅니다.

또는, 사용자가 모달 외부의 영역을 클릭하여 닫기 이벤트를 발생시킵니다.

처리 (Processing)

[Frontend] 모달 닫기 이벤트가 감지됩니다.

[Frontend] UI에서 모달을 즉시 닫기 전에, JWT 인터셉터가 적용된 Axios 인스턴스를 사용하여 백엔드에 임시 데이터 삭제를 요청하는 API를 호출합니다.

[Backend] API 엔드포인트는 요청 헤더의 JWT를 통해 사용자를 인증합니다.

(Edge Case: 인증 실패) 유효하지 않은 토큰일 경우, 401 Unauthorized 또는 403 Forbidden 상태로 응답합니다. 이 경우에도 프론트엔드는 모달을 닫는 흐름을 계속 진행합니다.

[Backend] JWT에서 추출한 사용자 ID를 Key로 사용하여 Redis에서 해당 사용자의 임시 데이터를 삭제하는 명령을 실행합니다.

(Edge Case: 삭제할 데이터가 없는 경우) Redis에 해당 Key로 저장된 데이터가 없더라도, 이는 오류가 아니며 정상 처리로 간주합니다.

(Edge Case: Redis 연결 또는 명령어 실패) Redis 관련 오류가 발생하면 시스템은 내부적으로 에러를 기록하지만, 사용자 경험에 영향을 주지 않기 위해 프론트엔드에는 성공 응답을 보낼 수 있습니다. (임시 데이터는 TTL로 인해 결국 만료됩니다.)

[Backend] 데이터 삭제 처리 후, 프론트엔드에 성공적으로 처리되었음을 알리는 응답(예: 204 No Content)을 보냅니다.

출력 (Output)

(Success Case) API 호출 결과와 관계없이, RegisterProblemModal 컴포넌트가 닫히고 사용자는 이전 화면으로 돌아갑니다. 백엔드에서는 Redis에 저장된 해당 유저의 임시 데이터가 삭제됩니다.

(Failure Case: API 요청 실패) 백엔드 API 호출에 실패하더라도, 사용자 흐름이 중단되지 않도록 모달은 정상적으로 닫힙니다. 개발자 확인을 위해 브라우저 콘솔에 오류가 기록될 수 있습니다.