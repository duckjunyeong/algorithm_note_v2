# 시스템 플로우 정의

## Flow 1: 신규 복습 카드 생성 및 등록

### 시작 조건
사용자가 **TaskCreationModal**에서 모든 정보를 입력하고 **'등록하기' 버튼**을 클릭했을 때 시작됩니다.

---

### 입력 (Input)
- 사용자가 **제목, 카테고리, 중요도, 반복 주기** 등의 필드를 모두 입력
- 사용자가 **이전에 선택한 질문 목록** 확인
- 사용자가 **'등록하기' 버튼** 클릭

---

### 처리 (Processing)
- 클라이언트는 `apiClient.ts`를 통해 **POST `/reviewCard/create` API 요청**을 전송
- **요청 본문(Request Body)**:  
  - 카드 정보(제목, 카테고리 등)  
  - 선택된 질문 목록  

#### 성공 시
1. 서버가 요청 데이터를 검증
2. **ReviewCard 도메인 객체 생성**  
   - `isActive = true`  
   - 반복횟수 = `0`으로 초기화
3. 질문 목록 데이터를 기반으로 **ReviewQuestion 객체 생성**
4. **연관 관계 설정**  
   - ReviewCard ↔ ReviewQuestion (1:N)  
   - ReviewCard ↔ User (N:1)
5. 데이터베이스에 저장 후, 성공 응답 반환

#### 실패 시 (Edge Case)
- **Case 1**: 네트워크 오류 또는 서버 내부 오류 → API 요청 실패
- **Case 2**: 유효성 검사 실패 → 필수 입력값 누락/형식 오류

---

### 출력 (Output)
#### 성공 시
- TaskCreationModal이 닫힘
- 대시보드(`/`)의 **'백로그' 컬럼**에 새로운 카드 추가
- 해당 컬럼의 **태스크 개수 +1**로 UI 갱신

#### 실패 시 (Edge Case)
- 모달 내에 `"등록에 실패했습니다. 잠시 후 다시 시도해주세요."` 메시지 표시
- 모달은 닫히지 않아 사용자가 재시도 가능

---

## Flow 2: 대시보드 카드 목록 조회 및 렌더링

### 시작 조건
- 사용자가 **대시보드 메인 페이지(/)**에 처음 진입했을 때
- 또는 **카드 생성 후** 해당 페이지로 돌아왔을 때

---

### 입력 (Input)
- 사용자가 브라우저를 통해 **대시보드 메인 페이지(/)** 접근

---

### 처리 (Processing)
- 페이지 컴포넌트가 **마운트(Mount)** 되면 `apiClient.ts`에서 **GET `/reviewCard` API 요청**
  
#### 성공 시
1. 서버는 로그인된 사용자의 모든 **ReviewCard 객체 목록** 반환
2. 클라이언트는 응답 배열을 순회하며 `isActive` 여부 확인  
   - `isActive = true` → '백로그' 컬럼에 추가  
   - `isActive = false` → '완료' 컬럼에 추가  

#### 실패 시 (Edge Case)
- **Case 1**: 네트워크/서버 오류 → 데이터 가져오기 실패
- **Case 2**: 데이터 없음 → 서버가 빈 배열 반환

---

### 출력 (Output)
#### 성공 시
- '백로그' 컬럼에 **isActive = true** 카드 렌더링
- '완료' 컬럼에 **isActive = false** 카드 렌더링
- 각 컬럼 타이틀 옆에 **카운트 숫자** UI 반영

#### 실패 시 (Edge Case)
- **Case 1 (오류)**: `"목록을 불러오는 데 실패했습니다."` 메시지 표시
- **Case 2 (데이터 없음)**:  
  - '백로그' 및 '완료' 컬럼이 빈 상태로 표시  
  - 각 컬럼 카운트 = `0`
